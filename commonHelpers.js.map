{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/octagon.svg","../src/main.js"],"sourcesContent":["export const fetchImages = str => {\n  const API_KEY = '43304487-b7d5c7fa3c9a8a42508d5a037';\n  const BASE_URL = 'https://pixabay.com/api';\n  const ENDPOINT = '';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: str,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: '9',\n    safesearch: 'true',\n  });\n\n  return fetch(`${BASE_URL}${ENDPOINT}/?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","export function renderImages(images) {\n  return images\n    .map(\n      object => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${object.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${object.webformatURL}\"\n          data-source=\"${object.largeImageURL}\"\n          alt=\"${object.tags}\"\n          title=\"${object.tags}\"\n        />\n        <div class=\"gallery-stat\">\n           <div class=\"gallery-stat-item\">\n              <b class=\"gallery-stat-item-b\">Likes</b>\n              <p class=\"gallery-stat-item-p\">${object.likes}</p>\n            </div>\n            <div class=\"gallery-stat-item\">\n              <b class=\"gallery-stat-item-b\">Views</b>\n              <p class=\"gallery-stat-item-p\">${object.views}</p>\n            </div>\n            <div class=\"gallery-stat-item\">\n              <b class=\"gallery-stat-item-b\">Comments</b>\n              <p class=\"gallery-stat-item-p\">${object.comments}</p>\n            </div>\n          <div class=\"gallery-stat-item\">\n              <b class=\"gallery-stat-item-b\">Downloads</b>\n              <p class=\"gallery-stat-item-p\">${object.downloads}</p>\n          </div>\n        </div>      \n      </a>\n    </li>`\n    )\n    .join('');\n}\n","export default \"__VITE_ASSET__de411352__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\nimport octagon from './img/octagon.svg';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionData: 'alt',\n  captionDelay: 250,\n});\n\nconst form = document.querySelector('.form-search');\nconst imagesList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const formSearch = event.currentTarget.elements.search.value.trim();\n  imagesList.innerHTML = '';\n\n  if (formSearch === '') {\n    showMessage(`You entered an empty string!`, '#EF4040', octagon);\n    form.reset();\n  } else {\n    showLoader();\n    fetchImages(formSearch)\n      .then(res => {\n        if (res.hits.length != 0) {\n          imagesList.innerHTML = renderImages(res.hits);\n          lightbox.refresh();\n        } else {\n          showMessage(\n            `Sorry, there are no images matching \n            your search query. Please, try again!`,\n            '#EF4040',\n            octagon\n          );\n        }\n        form.reset();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        hideLoader();\n      });\n  }\n}\n\nfunction showMessage(message, backgroundColor, iconUrl) {\n  // частково короткі властивості\n  iziToast.show({\n    message,\n    messageColor: 'white',\n    backgroundColor,\n    closeOnEscape: true,\n    position: 'topRight',\n    iconUrl,\n    iconColor: 'white',\n    iconColor: 'white',\n    theme: 'dark',\n    maxWidth: '350px',\n  });\n}\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n"],"names":["fetchImages","str","API_KEY","BASE_URL","ENDPOINT","params","response","renderImages","images","object","octagon","lightbox","SimpleLightbox","form","imagesList","loader","handleSubmit","event","formSearch","showMessage","showLoader","res","error","hideLoader","message","backgroundColor","iconUrl","iziToast"],"mappings":"6vBAAO,MAAMA,EAAcC,GAAO,CAChC,MAAMC,EAAU,qCACVC,EAAW,0BACXC,EAAW,GAEXC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,SAAU,IACV,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGE,CAAQ,GAAGC,CAAQ,KAAKC,CAAM,EAAE,EAAE,KAAKC,GAAY,CACjE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECpBO,SAASC,EAAaC,EAAQ,CACnC,OAAOA,EACJ,IACCC,GAAU;AAAA;AAAA,sCAEsBA,EAAO,aAAa;AAAA;AAAA;AAAA,iBAGzCA,EAAO,YAAY;AAAA,yBACXA,EAAO,aAAa;AAAA,iBAC5BA,EAAO,IAAI;AAAA,mBACTA,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKiBA,EAAO,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIZA,EAAO,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIZA,EAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,+CAIfA,EAAO,SAAS;AAAA;AAAA;AAAA;AAAA,UAK1D,EACA,KAAK,EAAE,CACZ,CCnCA,MAAeC,EAAA,6CCUTC,EAAW,IAAIC,EAAe,aAAc,CAChD,YAAa,MACb,aAAc,GAChB,CAAC,EAEKC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,OAAO,MAAM,OAC7DH,EAAW,UAAY,GAEnBI,IAAe,IACjBC,EAAY,+BAAgC,UAAWT,CAAO,EAC9DG,EAAK,MAAK,IAEVO,IACApB,EAAYkB,CAAU,EACnB,KAAKG,GAAO,CACPA,EAAI,KAAK,QAAU,GACrBP,EAAW,UAAYP,EAAac,EAAI,IAAI,EAC5CV,EAAS,QAAO,GAEhBQ,EACE;AAAA,mDAEA,UACAT,CACZ,EAEQG,EAAK,MAAK,CAClB,CAAO,EACA,MAAMS,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbC,GACR,CAAO,EAEP,CAEA,SAASJ,EAAYK,EAASC,EAAiBC,EAAS,CAEtDC,EAAS,KAAK,CACZ,QAAAH,EACA,aAAc,QACd,gBAAAC,EACA,cAAe,GACf,SAAU,WACV,QAAAC,EACA,UAAW,QACX,UAAW,QACX,MAAO,OACP,SAAU,OACd,CAAG,CACH,CAEA,SAASN,GAAa,CACpBL,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASQ,GAAa,CACpBR,EAAO,UAAU,IAAI,WAAW,CAClC"}